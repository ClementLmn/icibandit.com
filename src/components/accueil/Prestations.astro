---
import SBImage from "../SBImage.astro";

import { hasRichTextContent } from "../../utils/richtext";
import { renderRichText, type SbBlokData } from "@storyblok/astro";

const { blok } = Astro.props;
console.log(blok.prestations);
---

<div
    id="prestations"
    class="container-main bg-blue bg-[url('/src/assets/grid.svg')] bg-size-[1440px] bg-top bg-repeat pt-110 pb-80 text-white md:pb-210 2xl:bg-size-[100%]"
>
    <div class="mx-auto flex w-full flex-col items-center md:w-10/12">
        {
            blok.image_prestations && (
                <div class="px-gutter w-full md:w-6/10">
                    <SBImage class="w-full" image={blok.image_prestations} />
                </div>
            )
        }
        {
            blok.titre_prestations && (
                <h2 class="font-schoolbell px-gutter relative mt-40 inline-block w-full rotate-2 text-center text-[3.4rem] leading-37 md:mt-80 md:text-[4.4rem] md:leading-61 lg:w-4/10">
                    {blok.titre_prestations}
                </h2>
            )
        }
        {
            blok.prestations.length > 0 && (
                <div class="px-gutter font-lato mt-36 flex w-full flex-col gap-10 text-center text-[3.8rem] leading-46 font-bold md:mt-80 md:gap-0 md:text-[7rem] md:leading-84">
                    {blok.prestations.map((prestation: SbBlokData) => (
                        <div>{prestation.text}</div>
                    ))}
                </div>
            )
        }

        {
            hasRichTextContent(blok.texte_prestations) && (
                <div
                    class="px-gutter mt-64 w-full text-center text-[2rem] leading-24 font-normal md:w-8/10 md:text-[3rem] md:leading-36 [&_p]:my-30"
                    set:html={renderRichText(blok.texte_prestations)}
                />
            )
        }
        {
            blok.titre_bas_prestations && (
                <h3 class="font-schoolbell mt-50 rotate-2 text-center text-[3.4rem] leading-47 md:mt-60 md:text-[4.4rem] md:leading-61">
                    {blok.titre_bas_prestations}
                </h3>
            )
        }
    </div>
</div>
